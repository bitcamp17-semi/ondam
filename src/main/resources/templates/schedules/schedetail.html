<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>일정 상세</title>
	<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
     
   <style>
       body *{
           font-family: 'Jua';
       }
       #scheDetail table{
       		margin :20px auto;
       		width: 500px;
       }
</style>
</head>
<body>
<div id="scheDetail">
<h5 align="center">[[${Date}]] 일정 상세</h5>
	<table>
		
		<tr>
         		<th>하루종일</th>
         		<td>
         			<input class="isAlltime" name="isAlltime" type="checkbox" th:checked="${dto.isAlltime==1}">
         		</td>
         	</tr>
         	<tr>
         		<th>구분</th>
         		<td>
         			<select name="sort">
         				<option class="private" th:selected="${dto.sort=='private'}">내 일정</option>
         				<option class="group" th:selected="${dto.sort=='group'}">그룹</option>
         				<option class="company" th:selected="${dto.sort=='company'}">회사</option>
         			</select>
         		</td>
         	</tr>
         	<tr>
         		<th>일정 제목</th>
         		<td colspan="4">
         			<input class="name" name="name" type="text" th:value="${dto.name}" style="width: 100%;">
         		</td>
         	</tr>
         	<tr>
         		<th>내용</th>
         		<td colspan="4">
         			<textarea class="content" name="content" style="width: 100%" lowspan="4">[[${dto.content}]]</textarea>
         		</td>
         	</tr>
         	<tr>
         		<th>시작 날짜</th>
         		<td>
         			<input class="startDate" name="startDate" type="date"  th:value="${StartDate}">
         		</td>
         		<th>시작 시간</th>
         		<td>
         			<input class="startTime" name="startTime" type="time" th:value="${StartTime}">
         		</td>
         	</tr>
         	<tr>
         		<th>종료 날짜</th>
         		<td>
         			<input class="endDate" name="endDate" type="date" th:value="${endDate}">
         		</td>
         		<th>종료 시간</th>
         		<td>
         			<input class="endTime" name="endTime" type="time" th:value="${endTime}">
         		</td>
         	</tr>
         	<tr>
         		<td colspan="4" align="center">
         			<button type="button" class="btn btn-success">수정하기</button>
         			<button type="button" class="btn btn-danger" onclick="scheDel()">일정 삭제</button>
         			<button type="button" class="btn btn-success" onclick="history.back()">목록으로</button>
         		<td>
         	</tr>
	</table>
	<script type="text/javascript" th:inline="javascript">
	function scheDel(){
		let ans = confirm("보고있는 일정을 삭제하시겠습니까?");
		if(ans){
			$.ajax({
				type: "get",
				dataType: "text",
				data: { "id": "[[${dto.id}]]" },
				url: "./scheDelete",
				success: function(){
					alert("삭제되었습니다.");
					location.href = "./schedules";
				},
				error: function(){
					console.log("실패입니다.");
				}
			});
		}
	}
</script>
	
</div>

</body>
</html>
